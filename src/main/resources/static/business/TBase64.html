<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<img src=""  id="timg">
<p>
    返回base64后展示到页面
</p>
<button id="testgety">测试base64</button>


</body>

<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>

<script>

    /*$("#testgety").click(function () {
        alert("数据: ");
    });*/

    $("#testgety").click(function () {
        alert("数据: ");
        $.ajax({
            url: "http://localhost:8080/open/health-mach/getWXacodeunlimit/sj_healthmach",
            type : "POST",
            async : false,
            //dataType : "text/plain",
            dataType : "json",
            //contentType: "text/plain;charset=UTF-8",
            contentType: "application/json;charset=UTF-8",
            data: JSON.stringify({
                "device": "device",
                "check_path": false,
                "env_version": "trial"
            }),
            success : function (data) {
                //alert("数据: " + data + "\n状态: " + status);
                alert("success");
                //alert(data);
                //var strify = JSON.stringify(data);
                alert(data);
                /*var strifyeval = eval(strify);
                alert(strifyeval);
                var strifyeval_=eval("("+data+")");
                alert(strifyeval_);*/
                // var result = JSON.parse(data);
                // alert(result.code);
                // //alert(data.data[0]);
                alert(data.code);
                alert(data.message);
                alert(data.data[0]);
                $("#timg").attr("src",data.data[0]);
            },
            error : function (data) {
                //alert("数据: " + data + "\n状态: " + status);
                alert("error");

                var result = JSON.stringify(data);
                alert(result.code);
            }
        })
    });

</script>

</html>